<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>ChatBridge — Options</title>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
  <style>
    :root { --cb-bg: #0A0F1C; --cb-bg2: #10182B; --cb-white: #E6E9F0; --cb-subtext: #A0A7B5; --cb-accent-primary: #00B4FF; --cb-accent-secondary: #8C1EFF; }
    body { font-family: 'Bebas Neue', system-ui, -apple-system, "Segoe UI", Roboto; letter-spacing:0.5px; margin:16px; background: linear-gradient(145deg, var(--cb-bg), var(--cb-bg2)); color: var(--cb-white); }
    body.cb-theme-light { --cb-bg: #FFFFFF; --cb-bg2: #F5F7FB; --cb-white: #0F1720; --cb-subtext: #334155; }
    h2 { margin-top:0; letter-spacing:0.6px; filter: drop-shadow(0 0 10px rgba(30,242,247,0.2)); }
    textarea { width:100%; height:160px; font-family:monospace; margin-top:8px; background:#0b0f17; color:var(--cb-white); border:1px solid rgba(0,180,255,0.25); border-radius:10px; padding:10px; }
    button { padding:10px 12px; border-radius:10px; border:1px solid rgba(0,180,255,0.25); background:#10182B; color:var(--cb-white); cursor:pointer; text-transform:uppercase; letter-spacing:0.5px; }
    button:hover { background:#13203A; border-color: rgba(0,180,255,0.5); box-shadow: 0 0 12px rgba(0,180,255,0.25); }
    .row { display:flex; gap:8px; align-items:center; margin-bottom:8px; }
    .small { font-size:13px; color:var(--cb-subtext); }
    #viewer { white-space:pre-wrap; background:rgba(16,24,43,0.55); padding:12px; border-radius:10px; border:1px solid rgba(0,180,255,0.18); max-height:400px; overflow:auto; }
    input#apiKey { background:#0b0f17; color:var(--cb-white); }
  </style>
</head>
<body>
  <h2>ChatBridge — Options</h2>
  <div>
    <div class="small">Saved sessions (local):</div>
    <div id="viewer">Loading...</div>
    <div style="margin-top:8px;">
      <button id="btn-clear">Clear All Saved Sessions</button>
    </div>
  </div>

  <hr/>

  <div style="margin-top:12px;">
    <h3>Adapter debug (advanced)</h3>
    <div class="small">This shows the adapter picked for the active page when you open this options page from that page. You can edit adapters in code later — this is an advanced view.</div>
    <pre id="adapterInfo" style="background:#fff; padding:8px; border-radius:6px; border:1px solid #ddd;"></pre>
    <div style="margin-top:8px;">
      <button id="btn-refresh-adapter">Refresh Adapter Info</button>
    </div>
  </div>
  
  <hr/>

  <div style="margin-top:12px;">
    <h3>Gemini API Key</h3>
    <div class="small">Store your Gemini API key locally for the extension to use Gemini Nano and related APIs. This value is stored in extension storage (chrome.storage.local) and never sent externally.</div>
    <div class="row" style="margin-top:8px;">
      <input id="apiKey" type="password" placeholder="AIza..." style="flex:1;padding:8px;border-radius:8px;border:1px solid #d0e6ff;" />
      <button id="btn-save-key">Save</button>
    </div>
    <div style="margin-top:8px;" class="small">Your Gemini API key is used only for local model calls. Leave empty to remove.</div>
  </div>

  <hr/>

  <div style="margin-top:12px;">
    <h3>Theme</h3>
    <div class="small">Choose your preferred theme for ChatBridge surfaces.</div>
    <div class="row" style="margin-top:8px;">
      <label><input type="radio" name="cb-theme" id="theme-dark" value="dark" checked /> Dark Neon</label>
      <label style="margin-left:16px;"><input type="radio" name="cb-theme" id="theme-light" value="light" /> Light</label>
      <button id="btn-save-theme" style="margin-left:auto;">Save Theme</button>
    </div>
  </div>
  <script src="options.js"></script>
</body>
</html>
